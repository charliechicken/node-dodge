<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta property="og:title" content="Dodge Game" />
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://charliechicken.github.io/dodge-game/" />
    <meta property="og:image" content="https://charliechicken.github.io/dodge-game/public/images/red-square.jpg" />
    <meta property="og:description" content="A game to play when you're bored." />
    <meta property="og:locale" content="en" />
    <meta name="theme-color" content="#000000">
    <link rel="shortcut icon" href="images\favicon.ico">
    <link rel="stylesheet" href="/style.css">
    <!-- CSS only -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-KyZXEAg3QhqLMpG8r+8fhAXLRk2vvoC2f3B09zVXn8CA5QIVfZOJ3BCsw2P0p/We" crossorigin="anonymous">
    <link href="https://fonts.googleapis.com/css2?family=Work+Sans:wght@300&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Rampart+One&display=swap" rel="stylesheet">
    <title>Clever | Portal</title>
</head>

<body style="background-color: black;">
    <h1 class="text-center" style="color: white;">Leaderboard</h1>
    <table style="color: white; font-size: 2em;">
        <tr>
            <th style="padding-right: 50vw;">Name</th>
            <th>Score</th>
        </tr>
        <tr>
            <td id="place1"></td>
            <td id="score1"></td>
        </tr>
        <tr>
            <td id="place2"></td>
            <td id="score2"></td>
        </tr>
        <tr>
            <td id="place3"></td>
            <td id="score3"></td>
        </tr>
        <tr>
            <td id="place4"></td>
            <td id="score4"></td>
        </tr>
        <tr>
            <td id="place5"></td>
            <td id="score5"></td>
        </tr>
        <tr>
            <td id="place6"></td>
            <td id="score6"></td>
        </tr>
        <tr>
            <td id="place7"></td>
            <td id="score7"></td>
        </tr>
        <tr>
            <td id="place8"></td>
            <td id="score8"></td>
        </tr>
        <tr>
            <td id="place9"></td>
            <td id="score9"></td>
        </tr>
        <tr>
            <td id="place10"></td>
            <td id="score10"></td>
        </tr>
    </table>
</body>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-U1DAWAznBHeqEIlVSCgzq+c9gqGAJn5c/t99JyeKa9xxaYpSvHU5awsuZVVFIhvj" crossorigin="anonymous"></script>
<script src="/socket.io/socket.io.js"></script>
<script>
    var tooltipTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]'))
    var tooltipList = tooltipTriggerList.map(function(tooltipTriggerEl) {
        return new bootstrap.Tooltip(tooltipTriggerEl)
    })

    var socket = io()
    socket.emit('database-score-2')
    socket.on('new-scores', data => {
        if (data[0]) {
            document.getElementById('place1').innerHTML = '1st. ' + Object.keys(data[0]);
            document.getElementById('score1').innerHTML = Object.values(data[0]);
        }

        if (data[1]) {
            document.getElementById('place2').innerHTML = '2nd. ' + Object.keys(data[1]);
            document.getElementById('score2').innerHTML = Object.values(data[1]);
        }

        if (data[2]) {
            document.getElementById('place3').innerHTML = '3rd. ' + Object.keys(data[2]);
            document.getElementById('score3').innerHTML = Object.values(data[2]);
        }

        if (data[3]) {
            document.getElementById('place4').innerHTML = '4th. ' + Object.keys(data[3]);
            document.getElementById('score4').innerHTML = Object.values(data[3]);
        }

        if (data[4]) {
            document.getElementById('place5').innerHTML = '5th. ' + Object.keys(data[4]);
            document.getElementById('score5').innerHTML = Object.values(data[4]);
        }

        if (data[5]) {
            document.getElementById('place6').innerHTML = '6th. ' + Object.keys(data[5]);
            document.getElementById('score6').innerHTML = Object.values(data[5]);
        }

        if (data[6]) {
            document.getElementById('place7').innerHTML = '7th. ' + Object.keys(data[6]);
            document.getElementById('score7').innerHTML = Object.values(data[6]);
        }

        if (data[7]) {
            document.getElementById('place8').innerHTML = '8th. ' + Object.keys(data[7]);
            document.getElementById('score8').innerHTML = Object.values(data[7]);
        }

        if (data[8]) {
            document.getElementById('place9').innerHTML = '9th. ' + Object.keys(data[8]);
            document.getElementById('score9').innerHTML = Object.values(data[8]);
        }

        if (data[9]) {
            document.getElementById('place10').innerHTML = '10th. ' + Object.keys(data[9]);
            document.getElementById('score10').innerHTML = Object.values(data[9]);
        }
    })
</script>

</html>